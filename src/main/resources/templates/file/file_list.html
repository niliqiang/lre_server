<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>文件管理</title>
    <link rel="stylesheet" href="/layui/css/layui.css">
    <link rel="stylesheet" href="/css/custom.form.css">
</head>
<body>
<div class="table_div">
    <input id="copy_in" style="display: none" />
    <div id="searchParam">
        <div class="layui-form-item">
            <div class="layui-input-inline ">
                <button type="button" class="layui-btn" id="upload">
                    <i class="layui-icon">&#xe67c;</i>上传文件识别
                </button>
            </div>
        </div>

    </div>
    <table class="layui-table" id="showTable" lay-filter="showTable" ></table>
</div>

<script src="/layui/layui.js" charset="utf-8"></script>

<script>
    layui.use('table', function(){
        var table = layui.table;
        table.render({
            elem: '#showTable'
            , url:'/file/queryList'
            , page: true    //开启分页，默认page=1，limit=10
            , initSort: {   //默认按照时间倒序排列
                field: 'createTime',
                type: 'desc'
            }
            , cols: [
                [
                    {type: 'checkbox', fixed: 'left', width:'5%'},
                    {field:'fileName', width:'35%', title:'文件名', sort: true},
                    {field:'createTime', width:'20%', title:'创建时间', sort: true,
                        templet: "<div>{{layui.util.toDateString(d.createTime, 'yyyy-MM-dd HH:mm:ss')}}</div>"},
                    {field:'lreResult', width:'15%', title:'语种识别结果', sort: true,
                        templet: function (data) {
                            if (data.lreResult == 1) return "<span>汉语</span>";
                            else if (data.lreResult == 2) return "<span>俄语</span>";
                            else if (data.lreResult == 3) return "<span>意大利语</span>";
                            else if (data.lreResult == 4) return "<span>爱尔兰语</span>";
                            else if (data.lreResult == 5) return "<span>土耳其语</span>";
                            else return "<span>识别失败</span>";
                        }
                    },
                    {field:'status', width:'12.5%', title: '缓存状态', sort: true,
                        templet: function (data) {
                            if (data.status == 1) return "<span>缓存中</span>";
                            else return "<span>已清理</span>";
                        }
                    },
                    {fixed: 'right',title:'操作',width:'12.5%',
                        templet: function(data){
                            return "<a href='' title='下载' class='layui-btn layui-btn-sm layui-btn-normal'><icon class='layui-icon'>&#xe601;</icon></a>"+
                                "<a href='' title='删除' class='layui-btn layui-bg-red layui-btn-sm layui-btn-normal'><icon class='layui-icon'>&#xe640;</icon></a>";
                        }
                    }
                ]
            ]
        });
    });
</script>

</body>
</html>